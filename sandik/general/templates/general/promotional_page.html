<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yardımlaşma Sandığı</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #fce4ec);
    }
    .hero {
      background: linear-gradient(to right, #007bff, #6610f2);
      color: white;
      padding: 80px 20px;
      text-align: center;
      animation: fadeIn 1.5s ease;
    }
    .section {
      padding: 60px 20px;
    }
    .stat-card {
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
      padding: 30px;
      background: white;
      transition: transform 0.3s ease;
    }
    .stat-card:hover {
      transform: scale(1.05);
    }
    .stat-card i {
      font-size: 2rem;
      color: #6610f2;
      margin-bottom: 10px;
    }
    .highlight {
      color: #6610f2;
      font-weight: bold;
    }
    .accordion-button {
      background-color: #f1f1f1;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .contact-form input,
    .contact-form textarea {
      border-radius: 10px;
    }
    .logo {
      width: 80px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="hero">
    <img src="{{ url_for('static', filename='my_custom/img/logo.png') }}" alt="Sandık Logo" class="logo">
    <h1 class="display-4">Yardımlaşma Sandığı</h1>
    <p class="lead mt-3">"Yardımlaşma sandığı ihtiyacı olanlara organize bir şekilde borç (karzı hasen) verebilmek için kurulmuştur."</p>
  </div>

  <div class="section container">
    <div class="row text-center mb-5">
      <div class="col">
        <h2 class="fw-bold">Sistem Nasıl Çalışır?</h2>
        <p>Üyeler her ay aidat öder, bu aidatlar havuzda birikir. İhtiyaç sahibi üyeler buradan taksitle borç alabilir. Aidat ödemeleri devam ettikçe havuz büyür ve sistem sürdürülebilir hale gelir.</p>
      </div>
    </div>

    <div class="row mb-5">
      <div class="col-md-4">
        <div class="stat-card">
          <i class="bi bi-people-fill"></i>
          <h4>Toplam Üye</h4>
          <p class="display-6">124</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card">
          <i class="bi bi-collection"></i>
          <h4>Toplam Sandık</h4>
          <p class="display-6">5</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card">
          <i class="bi bi-cash-stack"></i>
          <h4>Toplanan Aidat</h4>
          <p class="display-6">₺2.500.000</p>
        </div>
      </div>
    </div>

    <div class="row mb-5">
      <div class="col-md-6">
        <div class="stat-card">
          <i class="bi bi-box-arrow-in-down"></i>
          <h4>Verilen Borç Sayısı</h4>
          <p class="display-6">87</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="stat-card">
          <i class="bi bi-wallet2"></i>
          <h4>Verilen Toplam Borç</h4>
          <p class="display-6">₺1.750.000</p>
        </div>
      </div>
    </div>

    <div class="text-center">
      <h2 class="fw-bold mb-4">Neden Bu Sistem?</h2>
      <p class="lead">Faizsiz, güven esaslı ve topluluk dayanışmasına dayalı bir sistem. Aidat sistemi sayesinde sürdürülebilir ve istikrarlı bir borç kaynağı oluşturuluyor.</p>
    </div>
  </div>

  <div class="section bg-white">
    <div class="container">
      <h2 class="fw-bold text-center mb-5">Sık Sorulan Sorular</h2>
      <div class="accordion" id="faqAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq2">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
              Borç alma sırası nasıl belirleniyor?
            </button>
          </h2>
          <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">İlk kurada belirlenen sıralamaya göre borç alınır. Yeni üyeler sıranın sonuna eklenir.</div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq3">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
              Borç aldıktan sonra aidat ödemeye devam ediyor muyum?
            </button>
          </h2>
          <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">Evet. Borç taksitleri ödenirken aidat ödemeleri de devam eder.</div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq4">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4">
              Borçlar kaç ayda geri ödeniyor?
            </button>
          </h2>
          <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">Borç tutarına göre 5 ila 30 ay arasında taksitlendirme yapılır.</div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq5">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5">
              Yeni bir üye nasıl katılabilir?
            </button>
          </h2>
          <div id="collapse5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">Mevcut bir üyenin kefilliği veya oy çokluğu ile üye alımı yapılır.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section container contact-form">
    <h2 class="fw-bold text-center mb-4">İletişim</h2>
    <form id="contactForm" >
      <div class="mb-3">
        <label for="name" class="form-label">Adınız</label>
        <input type="text" class="form-control" id="name" placeholder="Adınızı girin">
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">E-posta</label>
        <input type="email" class="form-control" id="email" placeholder="eposta@ornek.com">
      </div>
      <div class="mb-3">
        <label for="message" class="form-label">Mesajınız</label>
        <textarea class="form-control" id="message" rows="4" placeholder="Mesajınızı yazın..."></textarea>
      </div>
      <button type="submit" class="btn btn-primary"><i class="bi bi-send"></i> Gönder</button>

        <div id="formResponse" class="text-center mt-3"></div>
    </form>
  </div>

  <footer class="bg-dark text-white text-center p-4 mt-5">
    &copy; 2025 Yardımlaşma Sandığı
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.getElementById('contactForm').addEventListener('submit', async function(e) {
      const form = e.target;
      e.preventDefault();
      const data = {
        name: form.name.value,
        email: form.email.value,
        message: form.message.value
      };
      console.log(data);

      const responseDiv = document.getElementById('formResponse');
      responseDiv.textContent = 'Gönderiliyor...';

      try {
        const res = await fetch("{{ url_for('general_api_bp.contact_us') }}", {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        const resp_data = await res.json();

        if (resp_data.result) {
          responseDiv.textContent = 'Mesajınız gönderildi, teşekkür ederiz!';
          responseDiv.className = 'text-success';
          form.reset();
        } else {
          responseDiv.textContent = 'Bir sorun oluştu. Lütfen daha sonra tekrar deneyiniz.';
          responseDiv.className = 'text-danger';
          console.log(resp_data);
        }
      } catch (err) {
        responseDiv.textContent = 'Bir hata oluştu. Lütfen internet bağlantınızı kontrol edin.';
        responseDiv.className = 'text-danger';
        console.log(resp_data);
      }
    });
  </script>
</body>
</html>
